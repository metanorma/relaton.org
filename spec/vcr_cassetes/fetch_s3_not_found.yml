---
http_interactions:
- request:
    method: get
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/?delimiter=/&list-type=2&prefix=cache/
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122524Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=13b8f3eb78a30071d46c3dca9d3ee1faa42543a6014f858671ffa2777f480ac4
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - jqHubQCknT1SXgIqh6BX9AviPpPgjYgVt4DVCeF61/eQE5c+5zFF7d1SvCAzBIVSkUmFEZcl0sA=
      X-Amz-Request-Id:
      - Y1A4X4EX9VNXTBR6
      Date:
      - Fri, 13 Aug 2021 12:25:26 GMT
      X-Amz-Bucket-Region:
      - us-east-1
      Content-Type:
      - application/xml
      Transfer-Encoding:
      - chunked
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-infrastructure-lambda-api</Name><Prefix>cache/</Prefix><KeyCount>0</KeyCount><MaxKeys>1000</MaxKeys><Delimiter>/</Delimiter><IsTruncated>false</IsTruncated></ListBucketResult>
  recorded_at: Fri, 13 Aug 2021 12:25:25 GMT
- request:
    method: get
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/?list-type=2&prefix=cache/iso/iso_123456.
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122525Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=7fb0990f64be3ce73458c9f8ad4eae68a4e8e0b1447daf80c95afd261d088e46
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - j1fh4NR034JfEbuZhS+9ee6qy5TyaOhZbkGLnIaF4Wm97+Syg7XaY5RkFt5Q7agF48VBKn/xJBs=
      X-Amz-Request-Id:
      - 6RHD49AVE7JZGPR9
      Date:
      - Fri, 13 Aug 2021 12:25:27 GMT
      X-Amz-Bucket-Region:
      - us-east-1
      Content-Type:
      - application/xml
      Transfer-Encoding:
      - chunked
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-infrastructure-lambda-api</Name><Prefix>cache/iso/iso_123456.</Prefix><KeyCount>0</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated></ListBucketResult>
  recorded_at: Fri, 13 Aug 2021 12:25:26 GMT
- request:
    method: get
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/?list-type=2&prefix=ISO(ISO%20123456).
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122526Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=f04a471c63d9265d79a8a95128657de4d1bdbb38d50d3168b51df8f74d207e67
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - 2jYES6PGEcos3Dh1HUciV99znvJcIqfdYKDtsCfPl5EiDrGYQwAWLH6wLiMScy9Kl9BLiBHBijU=
      X-Amz-Request-Id:
      - 6RH0P6XC5TS7D9Q0
      Date:
      - Fri, 13 Aug 2021 12:25:27 GMT
      X-Amz-Bucket-Region:
      - us-east-1
      Content-Type:
      - application/xml
      Transfer-Encoding:
      - chunked
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-infrastructure-lambda-api</Name><Prefix>ISO(ISO 123456).</Prefix><KeyCount>0</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated></ListBucketResult>
  recorded_at: Fri, 13 Aug 2021 12:25:26 GMT
- request:
    method: get
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/?list-type=2&prefix=cache/iso/iso_123456.
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122526Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=ac7d8da697d88739ed9bd1a2e2a0df7367f500c88c3f3948bb30c928dcef7551
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - "/9+KlCbrPeV1jlaHSv0ADCSfqyQbGiGXJW6CfwGnG5RO5evS2QX8buV/6pr7IPMyBxW7Twp52Xw="
      X-Amz-Request-Id:
      - YJNEZBWEVMZ79J36
      Date:
      - Fri, 13 Aug 2021 12:25:28 GMT
      X-Amz-Bucket-Region:
      - us-east-1
      Content-Type:
      - application/xml
      Transfer-Encoding:
      - chunked
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-infrastructure-lambda-api</Name><Prefix>cache/iso/iso_123456.</Prefix><KeyCount>0</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated></ListBucketResult>
  recorded_at: Fri, 13 Aug 2021 12:25:27 GMT
- request:
    method: get
    uri: https://www.iso.org/cms/render/live/en/sites/isoorg.advancedSearch.do?docNumber=123456&status=ENT_ACTIVE,ENT_PROGRESS,ENT_INACTIVE,ENT_DELETED
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json, text/plain, */*
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: ''
    headers:
      Expires:
      - Wed, 09 May 1979 05:30:00 GMT
      Cache-Control:
      - no-cache, no-store, must-revalidate, proxy-revalidate, max-age=0
      Pragma:
      - no-cache
      Set-Cookie:
      - BIGipServerpool_prod_iso_www-jahia=713576842.36895.0000; path=/; Httponly;
        Secure
      - JSESSIONID=9EC6D2219DB62B487AD78E973E4C2AA4; Path=/; Secure; HttpOnly
      Content-Type:
      - application/json;charset=UTF-8
      Content-Length:
      - '16'
      Date:
      - Fri, 13 Aug 2021 12:25:27 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
    body:
      encoding: UTF-8
      string: '{"standards":[]}'
  recorded_at: Fri, 13 Aug 2021 12:25:28 GMT
- request:
    method: head
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/cache/iso/version
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122528Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=fffc94721491a578c9adffaa1bf2cb1c3dddffe54a3db8f688a9b3f3ab8a343c
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 404
      message: Not Found
    headers:
      X-Amz-Request-Id:
      - G27X6K2SBQQPT66F
      X-Amz-Id-2:
      - yOU14gNeGFSu6O317PAdNT9uggj6RTILoUR2dK/lP978ut+sWlKuRPysJMIVUTTcF1VS7vdll/U=
      Content-Type:
      - application/xml
      Date:
      - Fri, 13 Aug 2021 12:25:28 GMT
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Fri, 13 Aug 2021 12:25:28 GMT
- request:
    method: put
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/cache/iso/version
    body:
      encoding: US-ASCII
      string: 592d33c1cb38703fd26dd60417d3f9cd
    headers:
      Content-Type:
      - text/plain; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Expect:
      - 100-continue
      Content-Md5:
      - 2SITIIZQcXr6Pm7CIRS1Xg==
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122528Z
      X-Amz-Content-Sha256:
      - de79a1e3c961664b9c3a0423a478961a6cbe67dbbb323a239e7a8f76e1b4881f
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;content-type;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=f8a1ad1614d767f9e855f5c4ddebab59a11ccd937cfe56d37cb7a64c7ba0ace6
      Content-Length:
      - '32'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - GqY3lEX7uoo4qeYjtg+7Rq/2Jy0krY+dIDWOiT8Gy7d0+Xm5pH4bmZXHRWGCNtlHy3k7rrW7oHQ=
      X-Amz-Request-Id:
      - MJJYNP325ZAFYT21
      Date:
      - Fri, 13 Aug 2021 12:25:30 GMT
      Etag:
      - '"d92213208650717afa3e6ec22114b55e"'
      Server:
      - AmazonS3
      Content-Length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Fri, 13 Aug 2021 12:25:29 GMT
- request:
    method: put
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/cache/iso/iso_123456.notfound
    body:
      encoding: UTF-8
      string: not_found 2021-08-13
    headers:
      Content-Type:
      - text/plain; charset=utf-8
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Expect:
      - 100-continue
      Content-Md5:
      - 3ZCImDSUsPMjGILml0+iLQ==
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122529Z
      X-Amz-Content-Sha256:
      - 7b40b091aa5fa8fdd29e9c841c69089f73b83eae5044d5bc5aa5ab8f5cf84568
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;content-type;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=e7bdb5626715b66276e07709f28989b3b5d8ef0f32c9d744fd61988532763370
      Content-Length:
      - '20'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - SYq+hWZAnAhSOC2TpDkAy5gKQiNd6vPcOZF1hqZu0WpltWqmbY+G4fLLGQ3fxvnnjKoVNvJ9ypk=
      X-Amz-Request-Id:
      - TXN3P322N2B4GMBK
      Date:
      - Fri, 13 Aug 2021 12:25:31 GMT
      Etag:
      - '"dd9088983494b0f3231882e6974fa22d"'
      Server:
      - AmazonS3
      Content-Length:
      - '0'
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Fri, 13 Aug 2021 12:25:30 GMT
- request:
    method: get
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/?list-type=2&prefix=cache/iso/iso_123456.
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122530Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=46cff66df5c1fd03d89e05960ec03647ca8f62a1767661103108b9b1117b57f9
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - qUOubtB2HUjFOxZi5ymPNNlcsux5ibuJHki25rl1OuwNAH569yNUeOyT5HY9nQMIQ6JSTbzLNzI=
      X-Amz-Request-Id:
      - 1WY1GNSJXGT3ZQ0D
      Date:
      - Fri, 13 Aug 2021 12:25:32 GMT
      X-Amz-Bucket-Region:
      - us-east-1
      Content-Type:
      - application/xml
      Transfer-Encoding:
      - chunked
      Server:
      - AmazonS3
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-infrastructure-lambda-api</Name><Prefix>cache/iso/iso_123456.</Prefix><KeyCount>1</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>cache/iso/iso_123456.notfound</Key><LastModified>2021-08-13T12:25:31.000Z</LastModified><ETag>&quot;dd9088983494b0f3231882e6974fa22d&quot;</ETag><Size>20</Size><StorageClass>STANDARD</StorageClass></Contents></ListBucketResult>
  recorded_at: Fri, 13 Aug 2021 12:25:31 GMT
- request:
    method: get
    uri: https://test-infrastructure-lambda-api.s3.amazonaws.com/cache/iso/iso_123456.notfound
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.117.0 ruby/3.0.0 x86_64-darwin20 aws-sdk-s3/1.96.1
      Host:
      - test-infrastructure-lambda-api.s3.amazonaws.com
      X-Amz-Date:
      - 20210813T122531Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=AKIAWV6WPL7UDXCLTTHX/20210813/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=dfcf14bcbf7a3e0dce95160b7b323730d901071a6c53865742ffe9ea197a5b10
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      X-Amz-Id-2:
      - 98QwMwGrCb4OAiP0iZgFQ0ggegFwAFaRDP5dG9vGyiq0bbG9ejxthBqeZi1fU8lyunp5BEpXo1w=
      X-Amz-Request-Id:
      - 591MR6YNE10Y7N1N
      Date:
      - Fri, 13 Aug 2021 12:25:33 GMT
      Last-Modified:
      - Fri, 13 Aug 2021 12:25:31 GMT
      Etag:
      - '"dd9088983494b0f3231882e6974fa22d"'
      Accept-Ranges:
      - bytes
      Content-Type:
      - text/plain; charset=utf-8
      Server:
      - AmazonS3
      Content-Length:
      - '20'
    body:
      encoding: UTF-8
      string: not_found 2021-08-13
  recorded_at: Fri, 13 Aug 2021 12:25:31 GMT
recorded_with: VCR 6.0.0
